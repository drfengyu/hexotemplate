---
title: 中级教程——2.标定工具
categories:
  - 汇川视觉
  - 中级教程
tags:
  - 汇川视觉
  - 中级教程
cover: image.png
comments: true
toc: true
donate: true
share: true
date: 2024-09-19 09:08:38
---

# 学习内容

1. 联合标定
2. 关联标定
3. 标定校正
4. 形变标定
5. 随动标定、单轴标定
6. 精度诊断介绍（待完善）

# 应用说明

## 联合标定——框架简介

![alt text](image.png)

## 联合标定——详细介绍

功能：	利用特制的标定板进行标定，把相机的图像坐标转换成标定板坐标。	最多支持16组图像同时转换。

用法1：多相机统一坐标系用于测量
用法2：标定校正使用，获取新图像的手眼标定结果

| 联合标定参数         | 参数含义                                                                                     |
|-------------------|-----------------------------------------------------------------------------------------|
| 输入图像            | 输入图像，符合标定要求的标定板图像。                                                             |
| 输出图像            | 与输入图像同样尺寸的3通道图像（标定成功，会在相应位置绘制出识别到的二维码，绿色框标出；角点，绿色原点标出） |
| 检测区域            | 仅支持旋转矩形的ROI，不选则默认全图ROI                                                          |
| 标定结果            | 联合标定的标定结果，需要绑定CalibraionResult类型                                               |

## 关联标定——框架简介

![alt text](image-1.png)

## 关联标定——详细介绍

功能：将两个相机A，B进行关联，获取A、B两个相机图像坐标/机械坐标之间的关系。
用法1：测量，将关联相机A的图像坐标转换到被关联相机B的坐标系当中
用法2：对位，将关联相机A的图像坐标转换转换到被关联相机B的手眼标定机械坐标系当中，比测量模式多了一步机械坐标的转换

| 关联标定参数           | 参数含义                                                                                      |
|---------------------|------------------------------------------------------------------------------------------|
| 对象图像/目标图像      | 绑定对象/目标位拍照位图像变量                                                                        |
| 标定模式              | 可以选择对位/或者测量模式，选择对位模式需要增加部分参数，输出的目标相机手眼标定矩阵有效，选择测量模式仅计算图像坐标之间的关联关系。 |
| 手眼标定矩阵          | 选择对位时需要输入的参数，对象相机的手眼标定矩阵                                                      |
| 对象/目标拍照位       | 选择对位时需要输入的参数，机械运动到对象，目标相机拍照的机械位置                                          |
| 点输入方式            | 选择点输入方式，点或者点集（点数组）                                                                |
| 对象/目标点数组       | 选择点集的时候需输入，需建立Point[8]类型的数组                                                      |
| 点数量                | 选择对位时需要输入的参数，输入点集中的需要使用的点个数[2-8],最少需要2个点，保证精度建议2个以上的点       |
| 标定结果              | 关联标定的标定结果，需要绑定CalibraionResult类型，使用对位模式可以获得完整的标定结果，测量模式只能获取关于图像的标定结果。 |

## 标定校正——框架简介

![alt text](image-2.png)

## 标定校正——详细介绍

功能：	将相机的手眼标定矩阵进行校正，得到新的手眼标定矩阵。如果知道相机的移动值，则采用移动量模式，如通过标定板则采用联合矩阵模式。
用法1：相机移动位置之后获取新标定结果，节省标定时间
用法2：直接获取新相机的标定结果矩阵，节省标定时间并兼任新相机标定困难的场景

| 标定校正参数         | 参数含义                                                                                                            |
|-------------------|------------------------------------------------------------------------------------------------------------------|
| 校正模式            | 当校正模式旋转移动量时，需要输入相机的X、Y方向的移动量；当校正模式选择联合矩阵-相机不动时，需要输入联合标定的输出结果以及已做手眼标定的相机序号和需要校正的相机序号（两个相机间的标定校正）；当校正模式选择联合矩阵-相机移动时，需要输入相机移动前和移动后的两次联合标定结果和相机序号（单个相机）。 |
| 手眼标定结果        | 绑定手眼标定系的标定结果（手眼标定、单轴标定以及随动标定）。                                                                  |
| 校正结果            | 标定校正的输出结果，绑定CalibrationResult类型变量。                                                                      |

## 形变标定——框架简介

![alt text](image-3.png)

## 形变标定——详细介绍

功能：通过带有标准棋盘格标定板的图片来实现对相机的透视以及畸变参数进行标定，配合【图像校正】模块使用

| 形变标定参数         | 参数含义                                                                                             |
|-------------------|-------------------------------------------------------------------------------------------------|
| 输入图像            | 拍摄符合要求的棋盘格标定板或联合标定板。                                                              |
| 输出图像            | 需绑定3通道图像来显示标定结果。                                                                       |
| 校正模式            | 按需要选择，透视校正是为了去除相机面与成像面不平行导致的图像透视，畸变校正是为了去除由于镜头成像导致的图像畸变。 |
| 标定结果            | 形变标定的标定结果，需要绑定CalibraionResult类型。                                                  |

## 随动\单轴标定——框架简介

![alt text](image-4.png)

## 随动\单轴标定——详细介绍

随动标定功能：相机跟随机械手运动的手眼标定形式，目前只支持θ轴标定(相机跟随机械手在X、Y以及θ轴三个方向运动)，不支持仅平移，最小旋转次数为2

单轴标定功能：普通的平面手眼标定需要在X、Y两个方向进行移动标定，单轴标定只有一个平移轴的机械进行手眼标定X轴或者Y轴。不支持仅平移，最小旋转次数为2

参数等功能同手眼标定

## 精度诊断

![alt text](image-5.png)

# 课后练习

简单应用以上工具完成一个简单的应用，要求不限，目的在于熟练工具

