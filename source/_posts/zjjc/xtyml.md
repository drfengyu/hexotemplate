---
title: 中级教程——1.系统与命令
categories:
  - 汇川视觉
  - 中级教程
tags:
  - 汇川视觉
  - 中级教程
cover: image.png
comments: true
toc: true
donate: true
share: true
date: 2024-09-18 13:23:13
---

# 学习内容

1. 信源接收/发送
2. Python脚本
3. 本地脚本
4. 循环开始/终止

# 应用说明

## 信源接收、发送——框架简介

使用时，需预先创建Semaphore类型变量（注意为工程变量）。双击元件打开选项卡，添加引用即可。【信源发送】会将Semaphore变量赋1；【信源接收】则会接收Semaphore的值，值为0时，任务就会阻塞在【信源接收】元件处，值为1时则会执行下去。【信源发送】和【信源接收】的执行时间几乎可以忽略不计，将它们放在不同任务，即可实现指定位置处的同步

![alt text](image.png)

## 信源接收、发送——详细介绍

- Semaphore类型变量会在引用了它的【信源接收】元件执行后自动置为0，即“一次发送，一次接收”；

- 多个【信源接收】可使用同一个Semaphore变量，即“一方发送，多方接收”。此时【信源发送】后变量的值为【信源接收】的个数，当所有的【信源接收】执行完后会将变量置0；

- 多次给同一个Semaphore变量赋值后，完整接收1次即会将该变量置0；

- 【信源发送】和【信源接收】均可同时绑定多个Semaphore变量，发送时会统一赋值，接收时则需所有的Semaphore变量均有值才会执行下去；

## Python脚本——框架简介

使用Python脚本工具可以进行相对复杂的逻辑和数据处理。Python语言编写，需具备python基础编程知识

![alt text](image-1.png)

## Python脚本——详细介绍

- 输入变量支持引用其他元件输出，变量管理器中建立的变量。支持引用数值型，布尔型，枚举型，数值型数组，Complex（复数）类型，Complex （复数）数组等。不支持图像变量
- 输出变量支持引用变量管理器中建立的变量。支持引用数值型，布尔型，枚举型，数值型数组，Complex （复数）类型，Complex （复数）数组等。不支持图像变量
- 输入输出变量支持重命名，不支持中文和符号，修改名称后注意检查编程界面对应参数修改。
- 工具栏：功能依次为剪切，复制，粘贴，撤销，查找，运行，停止，导入，导出，注释，取消注释。鼠标停留在哪一行即可对该行进行剪切，复制，粘贴，注释，取消注释。

## 本地脚本——详细介绍

- 输入变量支持引用其他元件输出，变量管理器中建立的变量，最多可添加30个
- 输出变量支持引用变量管理器中建立的变量，最多可添加30个。
- 本地脚本支持下表中的运算符，运算符优先级与C语言相同，
- 表达式之间需要用“;”隔开

## 循环开始、终止——框架简介

包括循环和循环终止两个元件，循环元件包括循环开始和循环结束两个节点，为循环体；循环终止用于跳出循环

![alt text](image-2.png)

## 循环开始、终止——详细介绍

- 在循环开始中设置起始值、步长和结束值，当循环当前值（可以从节点输出中引用）≥结束值时跳出循环，循环结束，目前只支持正步长。
- 在循环终止中中设置表达式来指出循环终止条件，满足条件时可以跳出循环。

![alt text](image-3.png)

# 课后练习

![alt text](image-4.png)

